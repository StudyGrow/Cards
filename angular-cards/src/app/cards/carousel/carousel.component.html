<div class="row no-gutters" id="controls">
  <div class="col-md-9 col-xs-12 p-1 mb-2">
    <app-filter-tags></app-filter-tags>
  </div>
  <div class="col-md-3 col-xs-12 mb-2 text-right" id="bntcol">
    <div
      class="btn-group"
      *ngIf="filteredCards$ | async as cards"
      id="btnDiv"
      role="group"
    >
      <button
        class="btn btn-light"
        id="rand"
        placement="top"
        matTooltip="Zufall"
        matTooltipPosition="above"
        (click)="showRandomCard()"
        [disabled]="formMode == 'edit' || !cards || cards.length == 0"
      >
        <div class="fas fa-random"></div>
      </button>
      <button
        class="btn btn-light"
        id="editCard"
        type="button"
        [disabled]="isDisabled()"
        (click)="enableEdit()"
        matTooltip="Bearbeiten"
        matTooltipPosition="above"
      >
        <div class="fas fa-pen"></div>
      </button>

      <button
        [ngClass]="setClass()"
        id="toggleAdd"
        type="button"
        data-toggle="button"
        (click)="toggleAddView()"
        [matTooltip]="formMode == 'add' ? 'Verstecken' : 'HinzufÃ¼gen'"
        matTooltipPosition="above"
        [disabled]="formMode == 'edit'"
      >
        <div [class]="formMode == 'add' ? 'fas fa-minus' : 'fas fa-plus'"></div>
      </button>
    </div>
  </div>
</div>

<div class="row" *ngIf="filteredCards$ | async as cards" [@fadeInOnEnter]>
  <a
    id="left"
    class="navig col"
    *ngIf="cards.length > 1"
    (click)="goToPrev(cards.length)"
  >
    <span class="fas fa-chevron-left"></span>
  </a>
  <div id="carousel" *ngIf="cards.length > 0">
    <mdb-carousel
      (activeSlideChange)="onSlide($event)"
      #mycarousel
      [activeSlideIndex]="this.activeSlide"
      [animation]="'slide'"
      [isControls]="false"
      [allowSwipe]="true"
      [interval]="'0'"
    >
      <mdb-carousel-item
        *ngFor="let card of cards; index as i"
        [id]="i.toString()"
      >
        <app-card [@shake]="notallowed" [card]="card" [index]="i"></app-card>
      </mdb-carousel-item>
    </mdb-carousel>
  </div>
  <a
    id="right"
    class="navig col"
    *ngIf="cards.length > 1"
    (click)="goToNext(cards.length)"
  >
    <span class="fas fa-chevron-right"></span>
  </a>
</div>
